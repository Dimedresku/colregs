(window["webpackJsonpcolregs-front"]=window["webpackJsonpcolregs-front"]||[]).push([[0],{24:function(e,t,n){e.exports=n(40)},29:function(e,t,n){},30:function(e,t,n){},32:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(21),c=n.n(s),l=n(8),u=n(12),i=n(14),o=n(13),m=n(15),g=(n(29),function(e){return e.status?r.a.createElement("button",{className:"buttons",onClick:e.reset},"Next"):e.select?r.a.createElement("button",{className:"buttons",onClick:function(){return e.checkAnswer()}},"Confirm"):r.a.createElement("p",null)}),p=(n(30),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(r)))).state={img:null,trueId:null,selectAnswer:null,state:null,rightAnswer:0,wrongAnswer:0,numbersAnswers:0},n.randomFlag=function(){return Math.floor(4*Math.random())},n.getAnswer=function(e){n.setState(function(t){return{selectAnswer:e}})},n.checkAnswer=function(){var e=n.state;e.selectAnswer===e.trueId?n.setState(function(e){return{rightAnswer:e.rightAnswer+1,status:"right"}}):n.setState(function(e){return{wrongAnswer:e.wrongAnswer+1,status:"wrong"}})},n.newGame=function(){n.setState({img:null,trueId:null,selectAnswer:null,state:null,rightAnswer:0,wrongAnswer:0,numbersAnswers:0}),n.props.reset()},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"getImg",value:function(e){return this.props.getImg(this.props.data[e].img)}},{key:"componentDidUpdate",value:function(e){if(e!==this.props){var t=this.randomFlag(),n=this.getImg(t);this.setState({img:n,trueId:this.props.data[t].id,numbersAnswers:this.state.numbersAnswers+1,selectAnswer:null,status:null})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,a=t.reset,s=this.state,c=s.img,l=s.status,u=s.selectAnswer,i=s.numbersAnswers,o=s.rightAnswer;if(!c)return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner spinner-border text-danger",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")));if(i>10){var m=o/10*100;return r.a.createElement("div",{className:"score"},r.a.createElement("p",null,"Your score: ",m,"%"),r.a.createElement("button",{onClick:function(){return e.newGame()}},"New Game"))}var p=n.map(function(t){var n=t.id,a=t.symbol,s=t.description,c=e.state,l=c.selectAnswer,u=c.status,i="answer-list-item list-group-item";return n===l&&"right"===u?i="answer-list-item list-group-item list-group-item-success":n===l&&"wrong"===u?i="answer-list-item list-group-item list-group-item-danger":n===l&&(i="answer-list-item answer-list-item-select list-group-item"),r.a.createElement("li",{className:i,key:n,onClick:function(){return e.getAnswer(n)}},r.a.createElement("span",null,a," ",s))});return r.a.createElement("div",{className:"answer-list"},r.a.createElement("img",{src:c,alt:"something flag"}),r.a.createElement("ul",{className:"list-group"},p),r.a.createElement(g,{status:l,checkAnswer:this.checkAnswer,reset:a,select:u}))}}]),t}(a.Component)),f=function(e,t,n,s){return function(a){function c(){var e,t;Object(l.a)(this,c);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=Object(i.a)(this,(e=Object(o.a)(c)).call.apply(e,[this].concat(a)))).state={items:null},t.addItems=function(){t.getRandomItem().then(function(e){t.setState({items:e})}).catch(function(e){console.log(e)})},t.resetItems=function(){t.addItems()},t}return Object(m.a)(c,a),Object(u.a)(c,[{key:"getArrRandomId",value:function(){for(var e=[],t=0;t<=3;t++){var a=Math.floor(Math.random()*n+1+s);if(e.includes(a))for(;e.includes(a);)a=Math.floor(Math.random()*n+1+s);e.push(a)}return e}},{key:"getRandomItem",value:function(){var t=this.getArrRandomId();return Promise.all(t.map(function(t){return e(t)}))}},{key:"componentDidMount",value:function(){this.addItems()}},{key:"render",value:function(){return r.a.createElement("div",{className:"with-data"},r.a.createElement(p,{data:this.state.items,reset:this.resetItems,getImg:t}))}}]),c}(a.Component)},h=n(5),d=n.n(h),w=n(10),v=new function e(){var t=this;Object(l.a)(this,e),this._apiBase="http://colregs.herokuapp.com",this.getResource=function(){var e=Object(w.a)(d.a.mark(function e(n){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(n));case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Could not ".concat(n," recived ").concat(a.status));case 5:return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getAllFlags=Object(w.a)(d.a.mark(function e(){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/api/v1/flag/all");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)})),this.getAllSignals=Object(w.a)(d.a.mark(function e(){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/api/v1/signal/all");case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)})),this.getFlag=function(){var e=Object(w.a)(d.a.mark(function e(n){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/api/v1/flag/detail/".concat(n));case 2:return a=e.sent,e.abrupt("return",a[0]);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getSignal=function(){var e=Object(w.a)(d.a.mark(function e(n){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/api/v1/signal/detail/".concat(n));case 2:return a=e.sent,e.abrupt("return",a[0]);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),this.getImageFlag=function(e){return"".concat(t._apiBase).concat(e)},this.getImageSignal=function(e){return"".concat(t._apiBase).concat(e)}},E=v.getFlag,b=v.getSignal,A=v.getImageFlag,k=v.getImageSignal,I=f(E,A,41,42),O=f(b,k,251,0),S=n(6),y=(n(32),function(){return r.a.createElement("div",{className:"main-page d-flex"},r.a.createElement("p",null,r.a.createElement(S.b,{to:"/flags/"},"COLREGS FLAG")),r.a.createElement("p",null,r.a.createElement(S.b,{to:"/signals/"},"COLREGS SIGNALS")))}),N=(n(38),function(){return r.a.createElement("div",{className:"header"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(S.b,{to:"/flags"},"COLREGS FLAGS")),r.a.createElement("li",null,r.a.createElement(S.b,{to:"/signals"},"COLREGS SIGNALS")),r.a.createElement("li",null,r.a.createElement(S.b,{to:"/"},"MAIN"))))}),j=n(7),x=(n(39),function(){return r.a.createElement("div",{className:"app"},r.a.createElement(S.a,null,r.a.createElement(N,null),r.a.createElement("div",{className:"content mb-2"},r.a.createElement("h1",null,"COLREGS-72"),r.a.createElement(j.a,{path:"/",exact:!0,component:y}),r.a.createElement(j.a,{path:"/flags",component:I}),r.a.createElement(j.a,{path:"/signals",component:O}))))});c.a.render(r.a.createElement(x,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.604cae14.chunk.js.map