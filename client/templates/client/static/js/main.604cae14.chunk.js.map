{"version":3,"sources":["components/buttons/index.js","components/buttons/buttons.js","components/answer-list/index.js","components/answer-list/answer-list.js","components/with-data/index.js","components/with-data/with-data.js","components/tests/tests.js","service/web-service.js","components/main-page/index.js","components/main-page/main-page.js","components/header/index.js","components/header/header.js","components/app/index.js","components/app/app.js","index.js"],"names":["Buttons","props","status","className","onClick","reset","select","checkAnswer","AnswerList","state","img","trueId","selectAnswer","rightAnswer","wrongAnswer","numbersAnswers","randomFlag","Math","floor","random","getAnswer","id","setState","newGame","this","getImg","data","prevProps","randomId","imgUrl","role","score","answers","map","answer","symbol","description","classItem","key","src","alt","Component","WithData","getData","sizeDb","startId","items","addItems","getRandomItem","then","catch","e","console","log","resetItems","ArrRandomId","i","includes","push","getArrRandomId","Promise","all","webService","_apiBase","getResource","url","a","fetch","res","ok","Error","json","getAllFlags","getAllSignals","getFlag","flag","getSignal","signal","getImageFlag","idImg","getImageSignal","FlagTest","SignalTest","MainPage","to","Header","App","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.604cae14.chunk.js","sourcesContent":["import Buttons from './buttons'\r\n\r\nexport default Buttons","import React from 'react'\r\n\r\nimport './buttons.css'\r\n\r\nconst Buttons = (props) => {\r\n\r\n\tif (props.status) {\r\n\t\treturn <button className=\"buttons\" onClick={props.reset}>Next</button>\r\n\t} else if (props.select) {\r\n\t\treturn <button className=\"buttons\" onClick={() => props.checkAnswer()}>Confirm</button>}\r\n\treturn <p></p>\r\n}\r\n\r\nexport default Buttons","import AnswerList from './answer-list'\r\n\r\nexport default AnswerList","import React, {Component} from 'react'\r\nimport Buttons from '../buttons'\r\n\r\nimport './answer-list.css'\r\n\r\n\r\nexport default class AnswerList extends Component  {\r\n\r\n\r\n\tstate ={\r\n\t\timg: null,\r\n\t\ttrueId: null,\r\n\t\tselectAnswer: null,\r\n\t\tstate: null,\r\n\t\trightAnswer: 0,\r\n\t\twrongAnswer: 0,\r\n\t\tnumbersAnswers: 0\r\n\r\n\t}\r\n\r\n\tgetImg(id) {\r\n\t\treturn this.props.getImg(this.props.data[id].img)\r\n\r\n\t}\r\n\r\n\trandomFlag = () => {\r\n\t\treturn  Math.floor(Math.random() * 4)\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif(prevProps !== this.props){\r\n\t\t\tconst randomId = this.randomFlag()\r\n\t\t\tconst imgUrl = this.getImg(randomId)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\timg: imgUrl,\r\n\t\t\t\t\ttrueId: this.props.data[randomId].id,\r\n\t\t\t\t\tnumbersAnswers: this.state.numbersAnswers + 1,\r\n\t\t\t\t\tselectAnswer: null,\r\n\t\t\t\t\tstatus: null\r\n\r\n\t\t\t\t})}\r\n\t}\r\n\r\n\tgetAnswer = (id) => {\r\n\t\tthis.setState((state) => ({selectAnswer: id}))\r\n\t}\r\n\r\n\tcheckAnswer = () => {\r\n\t\tconst { selectAnswer, trueId } = this.state\t\r\n\t\tif (selectAnswer === trueId) {\r\n\t\t\tthis.setState((state) => ({\r\n\t\t\t\trightAnswer: state.rightAnswer + 1,\r\n\t\t\t\tstatus: 'right'\r\n\t\t\t})) } else {\r\n\t\t\tthis.setState((state) => ({\r\n\t\t\t\twrongAnswer: state.wrongAnswer + 1,\r\n\t\t\t\tstatus: 'wrong'\r\n\t\t\t}))\r\n\t\t\t}\r\n\t}\r\n\r\n\tnewGame = () => {\r\n\t\tthis.setState({\r\n\t\t\timg: null,\r\n\t\t\ttrueId: null,\r\n\t\t\tselectAnswer: null,\r\n\t\t\tstate: null,\r\n\t\t\trightAnswer: 0,\r\n\t\t\twrongAnswer: 0,\r\n\t\t\tnumbersAnswers: 0\r\n\t\t})\r\n\t\tthis.props.reset()\r\n\t}\r\n\r\n\r\n\trender() {\r\n\r\n\t\tconst { data, reset } = this.props\r\n\t\tconst { img, status, selectAnswer, numbersAnswers, rightAnswer } = this.state\r\n\r\n\t\tif (!img) {\r\n\t\t\treturn (<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t<div className=\"spinner spinner-border text-danger\" role=\"status\">\r\n  \t\t\t\t\t\t\t<span className=\"sr-only\">Loading...</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>)\r\n\t\t}\r\n\r\n\t\tif (numbersAnswers > 10) {\r\n\t\t\tconst score = rightAnswer / 10  * 100\r\n\t\t\treturn (<div className=\"score\">\r\n\t\t\t\t<p>Your score: {score}%</p>\r\n\t\t\t\t<button onClick={() =>this.newGame()}>New Game</button>\r\n\t\t\t\t</div>)\r\n\t\t}\r\n\r\n\t\tconst answers = data.map((answer) => {\r\n\t\t\tconst {id,symbol, description} = answer\r\n\t\t\tconst { selectAnswer, status } = this.state\r\n\t\t\tlet classItem = \"answer-list-item list-group-item\" \r\n\t\t\tif (id === selectAnswer && status === 'right') {\r\n\t\t\t\tclassItem = \"answer-list-item list-group-item list-group-item-success\"\r\n\t\t\t} else if (id === selectAnswer && status === 'wrong') {\r\n\t\t\t\tclassItem = \"answer-list-item list-group-item list-group-item-danger\"\r\n\t\t\t} else if (id === selectAnswer) {\r\n\t\t\t\tclassItem = 'answer-list-item answer-list-item-select list-group-item'}\r\n\t\t\treturn(\r\n\t\t\t\t<li className={classItem} key={id} onClick={() => this.getAnswer(id)}>\r\n\t\t\t\t\t<span>{symbol} {description}</span>\r\n\t\t\t\t</li>)\r\n\t\t})\r\n\r\n\r\n\t\treturn(<div className=\"answer-list\">\r\n\t\t\t\t<img src={img} alt=\"something flag\"/>\r\n\t\t\t\t<ul className=\"list-group\">\r\n\t\t\t\t{answers}\r\n\t\t\t\t</ul>\r\n\t\t\t\t<Buttons status={status} \r\n\t\t\t\t\tcheckAnswer={this.checkAnswer}\r\n\t\t\t\t\treset={reset}\r\n\t\t\t\t\tselect={selectAnswer}/>\r\n\t\t\t</div>)\r\n\t}\r\n}\r\n\r\n","import WithData from './with-data'\r\n\r\nexport default WithData","import React, {Component} from 'react'\r\nimport AnswerList from '../answer-list'\r\n\r\nimport './with-data'\r\n\r\nconst WithData = (getData, getImg, sizeDb, startId) => {\r\n\treturn class extends Component {\r\n\r\n\t\tstate = {\r\n\t\t\titems: null\r\n\t\t}\r\n\r\n\t\tgetArrRandomId() {\r\n\t \tconst ArrRandomId = []\r\n\t \tfor (let i = 0; i <= 3; i++) {\r\n\t \t\tlet randomId = Math.floor(Math.random() * sizeDb + 1 + startId)\r\n\t \t\tif (ArrRandomId.includes(randomId)){\r\n\t \t\t\twhile(ArrRandomId.includes(randomId)){\r\n\t \t\t\trandomId = Math.floor(Math.random() * sizeDb + 1 + startId)\r\n\t \t\t\t}\r\n\t \t\t}\r\n\t \t\tArrRandomId.push(randomId)\r\n\t \t}\r\n\t \treturn ArrRandomId\r\n\t }\r\n\r\n\t getRandomItem() {\r\n\t \tconst randomId = this.getArrRandomId()\r\n\t \treturn Promise.all(randomId.map(id => getData(id)))\r\n\t }\r\n\r\n\t addItems = () => {\r\n\t \tthis.getRandomItem().then((items) => {\r\n\t \t\tthis.setState({\r\n\t \t\t\titems})\r\n\t \t}).catch((e) => {console.log(e)})\r\n\t }\r\n\r\n\t resetItems = () => {\r\n\t \tthis.addItems()\r\n\t }\r\n\r\n\t componentDidMount() {\r\n\t \tthis.addItems()\r\n\r\n\t }\r\n\r\n\t render() {\r\n\r\n\t \r\n\t \treturn(\r\n\t \t\t<div className=\"with-data\">\r\n\t \t\t\t<AnswerList \r\n\t \t\t\tdata={this.state.items}\r\n\t \t\t\treset={this.resetItems}\r\n\t \t\t\tgetImg={getImg}\r\n\t \t\t\t />\r\n\t \t\t</div>\r\n\t \t\t)\r\n\t }\r\n\r\n\t}\r\n}\r\n\r\nexport default WithData","import WithData from '../with-data'\r\nimport WebService from '../../service/web-service'\r\n\r\nconst webService = new WebService()\r\n\r\nconst sizeFlags = 41\r\nconst startFlags = 42\r\n\r\nconst sizeSignal = 251\r\nconst startSignal = 0\r\n\r\nconst { getFlag, getSignal, getImageFlag, getImageSignal} = webService\r\n\r\nconst FlagTest = WithData(getFlag, getImageFlag, sizeFlags, startFlags)\r\n\r\nconst SignalTest = WithData(getSignal, getImageSignal, sizeSignal, startSignal)\r\n\r\nexport { FlagTest, SignalTest }","export default class WebService {\r\n\r\n\t_apiBase='http://colregs.herokuapp.com'\r\n\t//_apiBase='http://127.0.0.1:8000'\r\n\r\n\tgetResource = async (url) => {\r\n\t\tconst res = await fetch(`${this._apiBase}${url}`)\r\n\t\tif(!res.ok) {\r\n\t\t\tthrow new Error(`Could not ${url} recived ${res.status}`)}\r\n\t\treturn await res.json()\r\n\t}\r\n\r\n\tgetAllFlags = async () => {\r\n\t\tconst res = await this.getResource('/api/v1/flag/all')\r\n\t\treturn res\r\n\t}\r\n\r\n\tgetAllSignals = async () => {\r\n\t\tconst res = await this.getResource('/api/v1/signal/all')\r\n\t\treturn res\r\n\t}\r\n\r\n\tgetFlag = async (id) => {\r\n\t\tconst flag = await this.getResource(`/api/v1/flag/detail/${id}`)\r\n\t\treturn flag[0]\r\n\t}\r\n\r\n\tgetSignal = async (id) => {\r\n\t\tconst signal = await this.getResource(`/api/v1/signal/detail/${id}`)\r\n\t\treturn signal[0]\r\n\t}\r\n\r\n\tgetImageFlag = (idImg) => {\r\n\t\treturn `${this._apiBase}${idImg}`\r\n\t}\r\n\r\n\tgetImageSignal = (idImg) => {\r\n\t\treturn `${this._apiBase}${idImg}`\r\n\t}\r\n \r\n}","import MainPage from './main-page'\r\n\r\nexport default MainPage","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\n\r\nimport './main-page.css'\r\n\r\nconst MainPage = () => {\r\n\treturn(\r\n\t\t<div className=\"main-page d-flex\">\r\n\t\t<p><Link to='/flags/'>COLREGS FLAG</Link></p>\r\n\t\t<p><Link to='/signals/'>COLREGS SIGNALS</Link></p>\r\n\t\t</div>)\r\n}\r\n\r\nexport default MainPage","import Header from './header'\r\n\r\nexport default Header","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './header.css'\r\n\r\nconst Header = () => {\r\n\treturn (<div className=\"header\">\r\n\t\t\t<ul>\r\n\t\t\t\t<li><Link to=\"/flags\">COLREGS FLAGS</Link></li>\r\n\t\t\t\t<li><Link to=\"/signals\">COLREGS SIGNALS</Link></li>\r\n\t\t\t\t<li><Link to=\"/\">MAIN</Link></li>\r\n\t\t\t</ul>\r\n\t\t\t</div>)\r\n}\r\n\r\nexport default Header","import App from './app'\r\n\r\nexport default App","import React from 'react'\r\nimport {FlagTest, SignalTest } from '../tests'\r\nimport MainPage from '../main-page'\r\nimport Header from '../header'\r\nimport { BrowserRouter as Router, Route} from 'react-router-dom'\r\n\r\nimport './app.css'\r\n\r\n\r\n\r\nconst App =() => {\r\n\r\n    return (\r\n        <div className=\"app\">\r\n        <Router>\r\n        \t<Header />\r\n        \t<div className=\"content mb-2\">\r\n        \t\t<h1>COLREGS-72</h1>\r\n        \t\t<Route path=\"/\" exact component={MainPage} />\r\n        \t\t<Route path=\"/flags\" component={FlagTest}/>\r\n        \t\t<Route path=\"/signals\" component={SignalTest}/>\r\n        \t</div>\r\n          </Router>\r\n        </div>\r\n\r\n\r\n    )\r\n \r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './components/app'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}